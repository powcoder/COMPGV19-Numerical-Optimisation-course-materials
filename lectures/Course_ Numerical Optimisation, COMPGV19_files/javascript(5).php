require(['core/first'],function(){require(['theme_bootstrapbase/bootstrap','core/log'],function(bootstrap,log){log.debug('Bootstrap initialised')})});
function customise_dock_for_theme(dock){dock.on('dock:panelgenerated',function(){dock.get('panel').once('dockpanel:beforeshow',function(){Y.all('.dockeditempanel_content').addClass('block')});dock.get('panel').on('dockpanel:beforeshow',function(){var content=Y.all('.dockeditempanel_content');content.setStyle('maxWidth',content.get('winWidth')-dock.get('dockNode').get('offsetWidth')-10)})});dock.on('dock:initialised',function(){var navbar=Y.one('header.navbar'),navbarbtn=Y.one('header.navbar .btn-navbar'),navcollapse=Y.one('header.navbar .nav-collapse'),container=Y.one('#dock .dockeditem_container'),margintop=null,newmargintop=null,diff=null;if(navbar&&navbarbtn&&container){margintop=parseInt(container.getStyle('marginTop').replace(/px$/,''),10);diff=margintop-parseInt(navbar.get('offsetHeight'),10);navbarbtn.ancestor().on('click',function(){navcollapse.toggleClass('active');if(!this.hasClass('active')){newmargintop=(parseInt(navbar.get('offsetHeight'),10)+diff);container.setStyle('marginTop',newmargintop+'px')}else container.setStyle('marginTop',margintop+'px');navcollapse.toggleClass('active');dock.fire('dock:itemschanged')},navbarbtn)}})};
function customise_dock_for_theme(){var dock=M.core_dock;dock.on('dock:itemschanged',theme_dockmod_handle_spans);dock.on('dock:panelgenerated',theme_dockmod_blockstyle)}
function theme_dockmod_blockstyle(){this.Y.all('.dockeditempanel_content').each(function(dockblock){dockblock.addClass('block')})}
function theme_dockmod_handle_spans(){var prepopulatedblockregions=0,postpopulatedblockregions=0,blockspre=0,blockspost=0,maincontent=this.Y.one('#region-main'),regionpre=this.Y.one('#block-region-side-pre'),regionpost=this.Y.one('#block-region-side-post'),mainwrapper=this.Y.one('#region-bs-main-and-pre'),body=this.Y.one('body');if(this.Y.all('.block.dock_on_load').size()>0)return;if(body.hasClass('blocks-moving'))return;if(body.hasClass('two-column')){var prehasblocks=(regionpre.all('.block').size()>0);if(prehasblocks){regionpre.addClass('span3');maincontent.removeClass('span12');maincontent.addClass('span9')}else{regionpre.removeClass('span3');maincontent.removeClass('span9');maincontent.addClass('span12')}}else{var prehasblocks=(regionpre.all('.block').size()>0);if(prehasblocks){regionpre.addClass('span4');maincontent.removeClass('span12');maincontent.addClass('span8')}else{regionpre.removeClass('span4');maincontent.removeClass('span8');maincontent.addClass('span12')};var posthasblocks=(regionpost.all('.block').size()>0);if(posthasblocks){regionpost.addClass('span3');mainwrapper.removeClass('span12');mainwrapper.addClass('span9')}else{mainwrapper.removeClass('span9');mainwrapper.addClass('span12');regionpost.removeClass('span3')}};return}